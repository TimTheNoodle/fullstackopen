{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","services/persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Person","name","number","deletePerson","onClick","Persons","persons","map","person","id","PersonForm","props","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Filter","filter","handleFilterChange","baseUrl","axios","get","newObject","post","delete","put","Notification","message","className","Error","App","useState","setPersons","setNewName","setNewNumber","personsFilter","setFilter","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personService","then","response","data","contactsToShow","toLowerCase","startsWith","event","console","log","target","preventDefault","foundPerson","find","window","confirm","changedPerson","p","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f9534307.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ name, number, deletePerson }) => {\r\n    return (\r\n        <tr key={name}>\r\n            <td>{name}</td>\r\n            <td>{number}</td>\r\n            <td><button onClick={deletePerson}>delete</button></td>\r\n        </tr>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, deletePerson }) => {\r\n    return (\r\n        <div>\r\n            <table>\r\n                <tbody>\r\n                    {persons.map((person) =>\r\n                        <Person \r\n                            key={person.id} \r\n                            name={person.name} \r\n                            number={person.number}\r\n                            deletePerson={() => deletePerson(person.name, person.id)}\r\n                        />\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.addPerson}>\r\n        <div>\r\n          name: \r\n          <input \r\n            value={props.newName}\r\n            onChange={props.handleNameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          number: \r\n          <input \r\n            value={props.newNumber}\r\n            onChange={props.handleNumberChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            filter shown with \r\n            <input\r\n                value={props.filter}\r\n                onChange={props.handleFilterChange}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import axios from 'axios'\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\n//const baseUrl = 'https://shrouded-lake-04891.herokuapp.com/api/persons'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, remove, update }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"notification\">\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Error = ({ message }) => {\r\n    if (message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div className=\"error\">\r\n        {message}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Error","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ personsFilter, setFilter ] = useState('')\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    console.log('click', event.target)\n\n    const foundPerson = persons.find(person => person.name === newName)\n    if(foundPerson) {\n\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const changedPerson = {...foundPerson, number: newNumber}\n        const id = changedPerson.id\n\n        personService\n          .update(id, changedPerson)\n          .then(response => {\n            console.log(response)\n            setPersons(persons.map(p => p.id !== id ? p : response.data))\n\n            setNotificationMessage(\n              `Updated number for ${changedPerson.name}`\n            )\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 5000)\n          })\n          .catch(error => {\n            setErrorMessage(`${changedPerson.name} was already deleted from the server`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n            setPersons(persons.filter(p => p.id !== changedPerson.id))\n          })\n\n      }\n      \n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n  \n      personService\n        .create(personObject)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n\n          setNotificationMessage(\n            `Added ${newName}`\n          )\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 5000)\n\n          setNewName('')\n          setNewNumber('')\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setErrorMessage(`${error.response.data.error}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n \n    }\n  }\n\n  const deletePerson = (name, id) => {\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n      .remove(id)\n      .then(response => {\n        setPersons(persons.filter(person => person.id !== id))\n        console.log(response)\n      })\n\n      setNotificationMessage(\n        `${name} was deleted`\n      )\n      setTimeout(() => {\n        setNotificationMessage(null)\n      }, 5000)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    //console.log(event.target.value)\n    setNewName(event.target.value)\n  } \n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    console.log(\"filter is:\", event.target.value)\n    setFilter(event.target.value)\n  }\n\n  const contactsToShow = personsFilter === ''\n    ? persons\n    : persons.filter(\n        person => person.name.toLowerCase().startsWith(personsFilter.toLowerCase())\n      )\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notificationMessage} />\n      <Error message={errorMessage} />\n      <Filter \n        filter={personsFilter}\n        handleFilterChange={handleFilterChange}\n      />\n      <h2>Add new contact</h2>\n      <PersonForm \n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons \n        persons={contactsToShow}\n        deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}